\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{drafts}

\DeclareOption{unknownkeysallowed}
  {\PassOptionsToPackage\CurrentOption{keyval}}

\DeclareOption{nodrafts} % Use this option to have all draft-commands emit a warning
  {\gdef\dr@ftPrefix{\PackageWarning{commands}{Draft commands have been disallowed for this document!}}}
\def\dr@ftPrefix{}

\ProcessOptions

\RequirePackage{keyval,ifthen}

% Use these commands to mark comments in the text. When switching off draft mode, LaTeX will emit a warning whenever it encounters one of these commands.
\newcommand{\draft}[2][]%
    {\dr@ftPrefix\noindent{\bfseries $\Rightarrow$ {\ttfamily To Do} #1: }{{\itshape\sffamily#2}} $\Leftarrow$}
\newenvironment{draftbar}[1][]%
    {\dr@ftPrefix%
     \par\noindent{\bfseries $\Downarrow$ {\ttfamily To Do} #1 \par}\begin{itshape}\begin{sffamily}\begin{scriptsize}}%
    {\end{scriptsize}\end{sffamily}\end{itshape}{\par\noindent\bfseries $\Uparrow$ \ttfamily To Do\par}}
\newenvironment{draftlist}[1][]%
    {\begin{draftbar}[#1]
       \let\olditem\item
       \def\item{\begin{itemize}\let\item\olditem\item}}%
    {\end{itemize}\end{draftbar}}

\endinput